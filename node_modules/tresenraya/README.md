### Instalar el m√≥dulo
```
$ npm install tresenraya --s
```

----------------------

> Este m√≥dulo te facilitar√° la creaci√≥n del juego tres en raya para tus proyectos, teniendo una clase para empezar una nueva partida 

### Empezar una nueva partida
```js
const tresenraya = require('tresenraya');
const juego = new tresenraya(opciones);
```

----------------------

## Opciones
`fichas` - **Array** con las fichas con las que se jugar√° (2 elementos dentro del array)
Los dos elementos del array deben ser de tipo **String**

> Por defecto: `[ '‚ùå', '‚≠ï' ]`



`jugadores` - **Array** con el nombre de los dos jugadores que jugar√°n la partida (2 elementos dentro del array)
Los dos elementos del array deben ser de tipo **String**

> Por defecto: `[ 'Jugador 1', 'Jugador 2' ]`



`tablero` - **Array** con el tablero en el que se jugar√° (9 elementos dentro del array) Los elementos del array deben ser de tipo **String**

> Por defecto: `[ '1Ô∏è‚É£', '2Ô∏è‚É£', '3Ô∏è‚É£', '4Ô∏è‚É£', '5Ô∏è‚É£', '6Ô∏è‚É£', '7Ô∏è‚É£', '8Ô∏è‚É£', '9Ô∏è‚É£' ]`

----------------------

## Eventos

### **ganador**
Se emite cuando se encuentra un ganador dentro de la partida que se est√° jugando.

> Par√°metros que recibe

`jugador` - El jugador que ha ganado (uno de los dos de los que est√°n especificados en **opciones.jugadores**)

`tablero` - El tablero final (devuelve un objeto con las propiedades: **array** [tablero en forma de array] y **string** [tablero en forma de texto])

`paso` - Paso por el que iban (devuelve un n√∫mero)

----------------------

### **empate**
Se emite cuando ocurre un empate dentro de la partida que se est√° jugando.

> Par√°metros que recibe

`jugadores` - Jugadores que estaban jugando la partida (devuelve el array establecido en **opciones.jugadores**)

`tablero` - El tablero que qued√≥ (devuelve un objeto con las propiedades: **array** [tablero en forma de array] y **string** [tablero en forma de texto])

`paso` - Paso por el que iban (devuelve un n√∫mero)

----------------------

### **finalizado**
Se emite cuando se usa el m√©todo `finalizar`

> Par√°metros que recibe

`jugadores` - Jugadores que estaban jugando la partida (devuelve el array establecido en **opciones.jugadores**)

`tablero` - El tablero que qued√≥ (devuelve un objeto con las propiedades: **array** [tablero en forma de array] y **string** [tablero en forma de texto])

`turno` - Objeto con la informaci√≥n del turno en el que se qued√≥.

----------------------

## Propiedades

`opciones` - Las **opciones** establecidas al iniciar la partida.

`tablero` - Objeto con dos propiedades: `array` [tablero en forma de array] y `string` [tablero en forma de texto]

`turno` - Objeto con los datos del turno actual.

`finalizado` - Si la partida ha finalizado devolver√° el valor `true`, si no ha finalizado devolver√° el valor `false` [**boolean**]

`perdedor` - Si alguien resulta ganador/a en la partida, la propiedad **perdedor** devolver√° el nombre del jugador que ha perdido, especificado en **opciones.jugadores**, si todav√≠a nadie ha ganadado devolver√° `null`

----------------------

## M√©todos

`elegir` - Posicionar la ficha del jugador del turno actual en una posici√≥n especifica.

> Ejemplo: `elegir(5)` [posicionar√≠a una ficha en la posici√≥n 5]

`disponible` - Comprobar si la posici√≥n solicitada est√° libre para posicionar una ficha (devuelve un valor de tipo `boolean`)

> Ejemplo: `disponible(5)` [comprobar√≠a si la posici√≥n 5 del tablero est√° disponible o no para posicionar una nueva ficha]

`pasar` - Pasar al siguiente turno.

> Ejemplo: `pasar()`

`finalizar` - Finalizar la partida actual (se emitir√° el evento **finalizado**)

> Ejemplo: `finalizar()`

----------------------

# Ejemplo usando discord.js

```js
const tresenraya = require('tresenraya');

const usuario = message.mentions.users.first();
if(!usuario) return message.channel.send('Menciona a alguien');
  
const partida = new tresenraya({ jugadores: [message.author.id, usuario.id] });
  
partida.on('ganador', (jugador, tablero, paso) => { // cuando encuentra a alg√∫n ganador se emite el evento 'ganador'
    
  message.channel.send('¬°Ha ganado ' + client.users.get(jugador).username + ' en esta partida! Despu√©s de `' + paso + ' pasos.`\n\n' + tablero.string + '\n\nLo siento, ' + client.users.get(partida.perdedor).username + '... üò¶');
    
});
  
partida.on('empate', (jugadores, tablero, paso) => { // si se produce un empate se emite el evento 'empate'
    
  message.channel.send('¬°Ha habido un empate entre ' + jugadores.map(x => client.users.get(x).username).join(' y ') + '!');
    
});
  
message.channel.send('Empieza ' + client.users.get(partida.turno.jugador).username + ', elige un n√∫mero del 1 al 9 [`' + partida.turno.ficha + '`]\n\n' + partida.tablero.string);

const colector = message.channel.createMessageCollector(msg => msg.author.id === partida.turno.jugador && !isNaN(msg.content) && (Number(msg.content) >= 1 && Number(msg.content) <= 9) && partida.disponible(msg.content) && !partida.finalizado);

colector.on('collect', (msg) => {
      
  partida.elegir(msg.content); // elegir la posici√≥n dependiendo del contenido del mensaje recolectado
  
  if(partida.finalizado) {
    
    colector.stop();
    return;
    
  } // si la partida ya ha finalizado (ya sea por que alguien ha ganado o ha habido un empate), para el colector y retorna nada
      
  message.channel.send('Turno de ' + client.users.get(partida.turno.jugador).username + ' [`' + partida.turno.ficha + '`]\n\n' + partida.tablero.string);
      
});
```

----------------------

## Actualizaciones

> v0.0.4

```
[+] Algunos errores fueron solucionados.

[+] Se agregaron nuevas propiedades.

[+] Se agreg√≥ la opci√≥n de tablero personalizado (opciones.tablero)
```

----------------------

## Creador del m√≥dulo

**G5lvatron#9562**